/*! angular-count-to 2015-07-08 */
var countTo=angular.module("countTo",[]).directive("countTo",["$timeout","$parse","numberFilter",function(a,b,c){return{replace:!1,scope:!0,link:function(d,e,f){var g,h,i,j,k,l,m,n=e[0],o=b(f.numberFormat)(d),p=b(f.numberFormatFractionSize)(d)||0,q=function(){h=30,k=0,d.timoutId=null,l=parseFloat(f.countTo)||0,d.value=parseFloat(f.value,10)||0,i=1e3*parseFloat(f.duration)||0,j=Math.ceil(i/h),m=(l-d.value)/j,g=d.value},r=function(){d.timoutId=a(function(){g+=m,k++,k>=j?(a.cancel(d.timoutId),g=l,o&&(l=c(l,p)),n.textContent=l):(roundedNum=g,o&&(roundedNum=c(g,p)),n.textContent=roundedNum,r())},h)},s=function(){d.timoutId&&a.cancel(d.timoutId),q(),r()};return f.$observe("countTo",function(a){a&&s()}),f.$observe("value",function(){s()}),!0}}}]);